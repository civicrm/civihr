!function(t,n){define("hrui/main",[],function(){function n(){var n=t(".crm-link-home");v(n,s(n,b(n)))}function e(){t.ajax("/civicrm/hrcore/usermenu?snippet=4",{dataType:"html",success:function(t){u(t,"civihr-menu")}})}function i(n){1===t(n).length&&t(n).on("change",f)}function o(){t(".CRM_HRRecruitment_Form_Application").addClass("crm-form-block"),t(".CRM_HRRecruitment_Form_Application .crm-profile-name-application_profile").addClass("form-layout-compressed")}function a(){"contactForm"===CRM.formName&&(t("input#employer_id, input#job_title","form#Contact").parent("td").hide(),t("div.email-signature, td#Email-Bulkmail-html","form#Contact").hide(),t("#Email-Primary","form#Contact").prev("td").prev("td").hide(),t("td#Email-Bulkmail-html, #Email-Primary","form#Contact").prev("td").hide(),t(".crm-demographics-accordion","form#Contact").insertAfter(t(".crm-contactDetails-accordion")),t("tr#Phone_Block_2","form#Contact").length<1&&t("#addPhone").click(),t("#customFields").length<1&&C())}function c(){1===t(".CRM_HRRecruitment_Form_HRVacancy").length&&(p(t('label[for="start_date"]').parents("tr")),p(t('label[for="end_date"]').parents("tr")),t('[name="entryURL"]').val().indexOf(";template=1")>-1&&t(t(".CRM_HRRecruitment_Form_HRVacancy tbody").get(0)).addClass("CRM_HRRecruitment_Form_HRVacancy_Template"))}function r(){t("#activityCustomData").attr("colspan",3),t("#crm-activity-view-table .crm-case-activity-view-Client .label").html("Contact"),t("span.crm-frozen-field",".crm-profile-name-hrident_tab").closest("div").parent("div").hide(),t(".crm-accordion-header.crm-master-accordion-header").on("click",function(){window.setTimeout(function(){Array.prototype.forEach.call(document.querySelectorAll(".listing-box"),function(t){Ps.initialize(t)})},0)})}function l(){"viewSummary"===CRM.pageName&&(t(".Inline_Custom_Data").length&&_(".Inline_Custom_Data"),_(".Extended_Demographics"))}function m(){t("INPUT#contact_source").parent("td").children("a").click(function(){t("#crm-notification-container .crm-help .notify-content").remove(),t("#crm-notification-container .crm-help p").length&&t("#crm-notification-container .crm-help p").remove(),t("#crm-notification-container .crm-help").append("<p>Source is a useful field where data has been migrated to CiviHR from one or a number of other legacy systems. The Source field will indicate which legacy system the contact has come from.</p>")})}function s(n,e){return t("li > a",n).first().text("Home").wrapInner('<span class="menumain-label">').prepend(e)}function d(){"viewSummary"===CRM.pageName&&(t("div.crm-contact-current_employer, div.crm-contact-job_title",".crm-summary-contactinfo-block").parent("div.crm-summary-row").hide(),t("form#ContactInfo input#employer_id, form#ContactInfo input#job_title").closest("div.crm-summary-row").hide())}function u(n,e){var i=t(n),o=t("<div>");o.attr("id",e),o.append(t("#civicrm-menu")),o.append(i),o.insertAfter("#page")}function f(){var n=t(this)[0].files[0];t("#js-uploaded-file").remove(),void 0!==n&&(t(this).after('<span id="js-uploaded-file" class="uploaded-file">'+n.name+' <span class="uploaded-file-icon-trash"><i class="fa fa-trash-o"></i> Remove</span>'),t(".uploaded-file-icon-trash").on("click",h))}function p(t){t.find("label").attr("for",t.find(".crm-form-date").attr("id"))}function h(){var n=t("#js-uploaded-file").parent().find('input[type="file"]');t("#js-uploaded-file").remove(),n.val("")}function v(t,n){t.off().find("#civicrm-home").before(n).remove()}function C(){t("#Inline_Custom_Data").detach().find(".label").each(function(){var n=t(this),e=n.next(),i=t("<td/>");i.append(n.find("label")),i.append(t("<br/>")),i.append(e.html()),t("#nick_name").parent().after(i)})}function _(n){t(n).removeClass("crm-collapsible collapsed").addClass("crm-summary-block").appendTo(".contactTopBar .contactCardLeft").find(".collapsible-title").hide().end().find(".crm-summary-block").show()}function b(n){return t(".crm-logo-sm",n).addClass("chr_logo chr_logo--default-color").removeClass("crm-logo-sm").wrap('<span class="menumain-icon">').parent()}function g(){t(".menumain").not(".crm-Self_Service_Portal").hover(function(){t(this).addClass("activetarget")},function(){t(this).removeClass("activetarget")})}function y(){t("#root-menu-div .menu-item-arrow").each(function(n){var e=t(this);e.before('<i class="fa fa-caret-right menu-item-arrow"></i>'),e.remove()})}t(document).on("crmLoad",function(){d()}).ready(function(){i("input[type='file']"),e(),o(),n(),l(),a(),c(),r(),m(),g(),y(),t("#addEmail").on("click",a)})})}(CRM.$,CRM._),function(t,n){define("hrui/contact",[],function(){function n(n){n?(t(".crm-summary-contactname-block").removeClass("crm-summary-contactname-block-without-contract"),n.position&&t(".crm-contact-detail-position").html("<strong>Position:</strong> "+n.position),n.location&&t(".crm-contact-detail-location").html("<strong>Normal place of work:</strong> "+n.location)):(t(".crm-summary-contactname-block").addClass("crm-summary-contactname-block-without-contract"),t(".crm-contact-detail-position").html(""),t(".crm-contact-detail-location").html(""),e(null))}function e(n){n&&n.departments&&n.departments.length>0?t(".crm-contact-detail-departments").html("<strong>Department:</strong> "+n.departments.join(", ")):t(".crm-contact-detail-departments").html("")}t(document).on("crmLoad",function(n){t(".crm-inline-edit").one("DOMSubtreeModified",function(){var n=t(this).find("form");1===n.length&&n.find("label").each(function(){var n=t(this),e=n.attr("for");t("#"+e).attr("placeholder",n.text())})})}).on("updateContactHeader",function(t,i){void 0!==i.contract&&n(i.contract),void 0!==i.roles&&e(i.roles)})})}(CRM.$,CRM._),function(t){define("hrui/civihr-popup/attrchange",[],function(){"use strict";var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t.fn.attrchange=function(t){if(n){var e={subtree:!1,attributes:!0},i=new n(function(n){n.forEach(function(n){t.call(n.target,n)})});return this.each(function(){i.observe(this,e)})}}})}(CRM.$),function(t){define("hrui/civihr-popup/civihr-popup",[],function(){"use strict";var n=t("body");n.on("click","#bootstrap-theme .btn-slide",function(){function e(){t(".civihr-popup").remove(),n.removeClass("civihr-popup-open")}function i(){r=m.clone(!0).appendTo(n).addClass("civihr-popup")}function o(){l.data("attrchange-is-on")||(l.data("attrchange-is-on",!0),l.attrchange(function(){l.hasClass("btn-slide-active")||e()}))}function a(){r.find("a").click(function(){var n=t(this).parent().index();m.find("li:nth("+n+") a").click()})}function c(){var t=l.offset();r.css({left:+t.left-(r.width()-l.outerWidth()),top:+t.top+l.outerHeight()}),r.show(),n.addClass("civihr-popup-open")}var r,l=t(this),m=l.children("ul.panel");!function(){e(),i(),c(),a(),o()}()})})}(CRM.$),function(t){t(["hrui/main","hrui/contact","hrui/civihr-popup/attrchange","hrui/civihr-popup/civihr-popup"])}(require);
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/hrui/js/dist/hrui.min.js.map