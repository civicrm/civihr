define("leave-absences/crm/hrleaveandabsences",[],function(){CRM.HRLeaveAndAbsencesApp={},CRM.HRLeaveAndAbsencesApp.ListPage=function(e){function t(e){s(e)}function s(e){e.off("click.civihrSetAsDefault").on("click.civihrSetAsDefault",".action-item.civihr-set-as-default",i).off("click.civihrDelete").on("click.civihrDelete",".action-item.civihr-delete",n)}function i(t){var s=e(t.target);new CRM.HRLeaveAndAbsencesApp.ListPage.SetAsDefaultAction(s,c.setAsDefault.confirmation,c.setAsDefault.success).execute(),t.preventDefault()}function n(t){var s=e(t.target);new CRM.HRLeaveAndAbsencesApp.ListPage.DeleteAction(s,c.delete.confirmation,c.delete.success).execute(),t.preventDefault()}var c={setAsDefault:{confirmation:'Are you sure you want to set "%1" as default?',success:'"%1" is now the default item'},delete:{confirmation:'Are you sure you want to delete "%1"?',success:'"%1" was deleted'}};return t}(CRM.$),CRM.HRLeaveAndAbsencesApp.ListPage.Action=function(e){function t(e,t,s,i){this._target=e,this._listRow=e.closest(".crm-entity"),this._entity=e.crmEditableEntity(),this._title=t,this._confirmationMessage=s,this._successMessage=i}return t.prototype.execute=function(){this._showConfirmation()},t.prototype._showConfirmation=function(){CRM.confirm({title:e(this._title),message:e(this._confirmationMessage,{1:this._entity.title}),options:{yes:e("Yes"),no:e("No")}}).on("crmConfirm:yes",this._executeAction.bind(this))},t.prototype._refresh=function(){CRM.refreshParent(this._listRow)},t.prototype._getSuccessMessage=function(){return e(this._successMessage,{1:this._entity.title})},t}(ts),CRM.HRLeaveAndAbsencesApp.ListPage.SetAsDefaultAction=function(){function e(e,t,s){CRM.HRLeaveAndAbsencesApp.ListPage.Action.call(this,e,"Set as default",t,s)}return e.prototype=Object.create(CRM.HRLeaveAndAbsencesApp.ListPage.Action.prototype),e.prototype._executeAction=function(){CRM.api3(this._entity.entity,"create",{id:this._entity.id,is_default:1},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},e}(),CRM.HRLeaveAndAbsencesApp.ListPage.DeleteAction=function(){function e(e,t,s){CRM.HRLeaveAndAbsencesApp.ListPage.Action.call(this,e,"Delete",t,s)}return e.prototype=Object.create(CRM.HRLeaveAndAbsencesApp.ListPage.Action.prototype),e.prototype._executeAction=function(){CRM.api3(this._entity.entity,"delete",{id:this._entity.id},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},e}(),CRM.$(document).trigger("CRMHrleaveandabsencesScriptIsReady")}),function(e){e(["leave-absences/crm/hrleaveandabsences"])}(require),define("crm-hrleaveandabsences",function(){});
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/uk.co.compucorp.civicrm.hrleaveandabsences/js/dist/crm-hrleaveandabsences.js.map