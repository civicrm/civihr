define("leave-absences/crm/includes/hrleaveandabsences-init",[],function(){return CRM.HRLeaveAndAbsencesApp=CRM.HRLeaveAndAbsencesApp||{},CRM.HRLeaveAndAbsencesApp.Form=CRM.HRLeaveAndAbsencesApp.Form||{},CRM.HRLeaveAndAbsencesApp.List=CRM.HRLeaveAndAbsencesApp.List||{},CRM.HRLeaveAndAbsencesApp}),define("leave-absences/crm/hrleaveandabsences",["leave-absences/crm/includes/hrleaveandabsences-init"],function(e){return e.ListPage=function(t){function s(e){i(e)}function i(e){e.off("click.civihrSetAsDefault").on("click.civihrSetAsDefault",".action-item.civihr-set-as-default",n).off("click.civihrDelete").on("click.civihrDelete",".action-item.civihr-delete",c)}function n(s){var i=t(s.target);new e.ListPage.SetAsDefaultAction(i,o.setAsDefault.confirmation,o.setAsDefault.success).execute(),s.preventDefault()}function c(s){var i=t(s.target);new e.ListPage.DeleteAction(i,o.delete.confirmation,o.delete.success).execute(),s.preventDefault()}var o={setAsDefault:{confirmation:'Are you sure you want to set "%1" as default?',success:'"%1" is now the default item'},delete:{confirmation:'Are you sure you want to delete "%1"?',success:'"%1" was deleted'}};return s}(CRM.$),e.ListPage.Action=function(e){function t(e,t,s,i){this._target=e,this._listRow=e.closest(".crm-entity"),this._entity=e.crmEditableEntity(),this._title=t,this._confirmationMessage=s,this._successMessage=i}return t.prototype.execute=function(){this._showConfirmation()},t.prototype._showConfirmation=function(){CRM.confirm({title:e(this._title),message:e(this._confirmationMessage,{1:this._entity.title}),options:{yes:e("Yes"),no:e("No")}}).on("crmConfirm:yes",this._executeAction.bind(this))},t.prototype._refresh=function(){CRM.refreshParent(this._listRow)},t.prototype._getSuccessMessage=function(){return e(this._successMessage,{1:this._entity.title})},t}(ts),e.ListPage.SetAsDefaultAction=function(){function t(t,s,i){e.ListPage.Action.call(this,t,"Set as default",s,i)}return t.prototype=Object.create(e.ListPage.Action.prototype),t.prototype._executeAction=function(){CRM.api3(this._entity.entity,"create",{id:this._entity.id,is_default:1},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},t}(),e.ListPage.DeleteAction=function(){function t(t,s,i){e.ListPage.Action.call(this,t,"Delete",s,i)}return t.prototype=Object.create(e.ListPage.Action.prototype),t.prototype._executeAction=function(){CRM.api3(this._entity.entity,"delete",{id:this._entity.id},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},t}(),CRM.$(document).trigger("CRMHrleaveandabsencesScriptIsReady"),e}),function(e){e(["leave-absences/crm/hrleaveandabsences"])}(require),define("crm-hrleaveandabsences",function(){});
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/uk.co.compucorp.civicrm.hrleaveandabsences/js/dist/crm-hrleaveandabsences.js.map