define("leave-absences/crm/hrleaveandabsences",[],function(){CRM.HRLeaveAndAbsencesApp={},CRM.HRLeaveAndAbsencesApp.ListPage=function(e){function t(e){n(e)}function n(e){e.off("click.civihrSetAsDefault").on("click.civihrSetAsDefault",".action-item.civihr-set-as-default",s).off("click.civihrDelete").on("click.civihrDelete",".action-item.civihr-delete",i)}function s(t){var n=e(t.target);new CRM.HRLeaveAndAbsencesApp.ListPage.SetAsDefaultAction(n,c.setAsDefault.confirmation,c.setAsDefault.success).execute(),t.preventDefault()}function i(t){var n=e(t.target);new CRM.HRLeaveAndAbsencesApp.ListPage.DeleteAction(n,c.delete.confirmation,c.delete.success).execute(),t.preventDefault()}var c={setAsDefault:{confirmation:'Are you sure you want to set "%1" as default?',success:'"%1" is now the default item'},delete:{confirmation:'Are you sure you want to delete "%1"?',success:'"%1" was deleted'}};return t}(CRM.$),CRM.HRLeaveAndAbsencesApp.ListPage.Action=function(e){function t(e,t,n,s){this._target=e,this._listRow=e.closest(".crm-entity"),this._entity=e.crmEditableEntity(),this._title=t,this._confirmationMessage=n,this._successMessage=s}return t.prototype.execute=function(){this._showConfirmation()},t.prototype._showConfirmation=function(){CRM.confirm({title:e(this._title),message:e(this._confirmationMessage,{1:this._entity.title}),options:{yes:e("Yes"),no:e("No")}}).on("crmConfirm:yes",this._executeAction.bind(this))},t.prototype._refresh=function(){CRM.refreshParent(this._listRow)},t.prototype._getSuccessMessage=function(){return e(this._successMessage,{1:this._entity.title})},t}(ts),CRM.HRLeaveAndAbsencesApp.ListPage.SetAsDefaultAction=function(){function e(e,t,n){CRM.HRLeaveAndAbsencesApp.ListPage.Action.call(this,e,"Set as default",t,n)}return e.prototype=Object.create(CRM.HRLeaveAndAbsencesApp.ListPage.Action.prototype),e.prototype._executeAction=function(){CRM.api3(this._entity.entity,"create",{id:this._entity.id,is_default:1},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},e}(),CRM.HRLeaveAndAbsencesApp.ListPage.DeleteAction=function(){function e(e,t,n){CRM.HRLeaveAndAbsencesApp.ListPage.Action.call(this,e,"Delete",t,n)}return e.prototype=Object.create(CRM.HRLeaveAndAbsencesApp.ListPage.Action.prototype),e.prototype._executeAction=function(){CRM.api3(this._entity.entity,"delete",{id:this._entity.id},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},e}(),CRM.$(document).trigger("CRMHrleaveandabsencesScriptIsReady")}),define("leave-absences/crm/list-absenceperiod",["leave-absences/crm/hrleaveandabsences"],function(){CRM.HRLeaveAndAbsencesApp=CRM.HRLeaveAndAbsencesApp||{},CRM.HRLeaveAndAbsencesApp.List=CRM.HRLeaveAndAbsencesApp.List||{},CRM.HRLeaveAndAbsencesApp.List.AbsencePeriod=function(e){function t(e){this._listElement=e,this._listPage=new CRM.HRLeaveAndAbsencesApp.ListPage(e),this._addEventListeners()}return t.prototype._addEventListeners=function(){this._listElement.find(".civihr-manage-entitlements").on("click",this._onManageEntitlementsClick.bind(this))},t.prototype._onManageEntitlementsClick=function(t){t.preventDefault();var n=e(t.target);new CRM.HRLeaveAndAbsencesApp.List.AbsencePeriod.ManageEntitlementAction(n,"The system will now update the staff members leave entitlement.").execute()},t}(CRM.$),CRM.HRLeaveAndAbsencesApp.List.AbsencePeriod.ManageEntitlementAction=function(){function e(e,t){CRM.HRLeaveAndAbsencesApp.ListPage.Action.call(this,e,"Update leave entitlement?",t,"")}return e.prototype=Object.create(CRM.HRLeaveAndAbsencesApp.ListPage.Action.prototype),e.prototype._executeAction=function(){var e=this._target.attr("href");e&&(window.location=e)},e}(),CRM.$(document).trigger("CRMListAbsencePeriodScriptIsReady")}),function(e){e(["leave-absences/crm/list-absenceperiod"])}(require),define("crm-list-absenceperiod",function(){});
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/uk.co.compucorp.civicrm.hrleaveandabsences/js/dist/crm-list-absenceperiod.js.map